################### Dynamicbeat Configuration Example #########################

############################# Dynamicbeat ######################################

dynamicbeat:
  # Defines how often checks will be executed
  period: 30s

  # Defines how often check definitions and attributes will be read from elasticsearch
  update_period: 1m

  # Where check definitions will be read from
  check_source:
    # List of Elasticsearch hosts to query
    hosts:
      - "https://localhost:9200"
    
    # Credentials used by this beat to read check definitions
    username: dynamicbeat
    password: changeme

    # Whether to verify SSL/TLS certificates, if HTTPS is used
    verify_certs: false

    # The index that check definitions will be read from
    #index: checkdef

#================================ Outputs =====================================

# Configure what output to use when sending the data collected by the beat.

#----------------------------- Logstash output --------------------------------
output.logstash:
  # The Logstash hosts
  hosts: ["localhost:5454"]

  # Optional SSL. By default is off.
  # List of root certificates for HTTPS server verifications
  ssl.certificate_authorities: ["./deployment/multi-node-small/docker/certificates/ca/ca.crt"]

  # Certificate for SSL client authentication
  ssl.certificate: "./deployment/multi-node-small/docker/certificates/dynamicbeat/dynamicbeat.crt"

  # Client Certificate Key
  ssl.key: "./deployment/multi-node-small/docker/certificates/dynamicbeat/dynamicbeat.key"

#================================ Processors =====================================

# Configure processors to enhance or manipulate events generated by the beat.

processors:
  - add_host_metadata: ~

#================================ Logging =====================================

# Sets log level. The default log level is info.
# Available log levels are: error, warning, info, debug
#logging.level: debug

# At debug level, you can selectively enable logging only for some components.
# To enable all selectors use ["*"]. Examples of other selectors are "beat",
# "publish", "service".
#logging.selectors: ["*"]

#============================== X-Pack Monitoring ===============================
# dynamicbeat can export internal metrics to a central Elasticsearch monitoring
# cluster.  This requires xpack monitoring to be enabled in Elasticsearch.  The
# reporting is disabled by default.

# Set to true to enable the monitoring reporter.
monitoring.enabled: false

# Sets the UUID of the Elasticsearch cluster under which monitoring data for this
# Dynamicbeat instance will appear in the Stack Monitoring UI. If output.elasticsearch
# is enabled, the UUID is derived from the Elasticsearch cluster referenced by output.elasticsearch.
#monitoring.cluster_uuid:

# Uncomment to send the metrics to Elasticsearch. Most settings from the
# Elasticsearch output are accepted here as well.
# Note that the settings should point to your Elasticsearch *monitoring* cluster.
# Any setting that is not set is automatically inherited from the Elasticsearch
# output configuration, so if you have the Elasticsearch output configured such
# that it is pointing to your Elasticsearch monitoring cluster, you can simply
# uncomment the following line.
#monitoring.elasticsearch:

http.enabled: true
#http.port: 5066